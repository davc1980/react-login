(this["webpackJsonpreact-identity-widget-demo"]=this["webpackJsonpreact-identity-widget-demo"]||[]).push([[0],{16:function(e,t,n){e.exports=n(26)},21:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(9),c=n.n(o),l=(n(21),n(10)),i=n(11),u=n(14),m=n(13),s=n(15),p=n(3),h=n.n(p);function d(){var e=h.a.currentUser();return console.log({user:e}),r.a.createElement("div",null,r.a.createElement("h3",null,"Protected Page"),"You are logged in as ",r.a.createElement("b",null,e.email))}function f(){return r.a.createElement("h3",null,"Public")}var E=n(31),g=n(29),v=n(30),b=n(33),y=n(32);var w={isAuthenticated:!1,user:null,authenticate:function(e){var t=this;this.isAuthenticated=!0,h.a.open(),h.a.on("login",(function(n){t.user=n,e(n)}))},signout:function(e){var t=this;this.isAuthenticated=!1,h.a.logout(),h.a.on("logout",(function(){t.user=null,e()}))}},j=Object(b.a)((function(e){var t=e.history;return w.isAuthenticated?r.a.createElement("p",null,"Welcome!"," ",r.a.createElement("button",{onClick:function(){w.signout((function(){return t.push("/")}))}},"Sign out")):r.a.createElement("p",null,"You are not logged in.")}));function O(e){var t=e.component,n=Object(s.a)(e,["component"]);return r.a.createElement(v.a,Object.assign({},n,{render:function(e){return w.isAuthenticated?r.a.createElement(t,e):r.a.createElement(y.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var P=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={redirectToReferrer:!1},e.login=function(){w.authenticate((function(){e.setState({redirectToReferrer:!0})}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/"}}).from;return this.state.redirectToReferrer?r.a.createElement(y.a,{to:e}):r.a.createElement("div",null,r.a.createElement("p",null,"You must log in to view the page at ",e.pathname),r.a.createElement("button",{onClick:this.login},"Log in"))}}]),n}(r.a.Component),A=function(){return r.a.createElement(E.a,null,r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.a,{to:"/public"},"Public Page")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/protected"},"Protected Page"))),r.a.createElement(v.a,{path:"/public",component:f}),r.a.createElement(v.a,{path:"/login",component:P}),r.a.createElement(O,{path:"/protected",component:d})))};window.netlifyIdentity=h.a,h.a.init(),c.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.914cfd6e.chunk.js.map